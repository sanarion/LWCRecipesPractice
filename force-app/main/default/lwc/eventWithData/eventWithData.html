<template>
  <lightning-card title="EventWithData" icon-name="standard:logging">
    <template if:true={contacts.data}>
      <lightning-layout class="slds-m-around_medium">
        <lightning-layout-item>
          <template for:each={contacts.data} for:item="contact">
            <c-contact-list-item key={contact.Id} contact={contact} onselect={handleSelect}></c-contact-list-item>
          </template>
        </lightning-layout-item>
        <lightning-layout-item class="slds-m-left_medium">
          <template if:true={selectedContact}>
            <img src={selectedContact.Picture__c} alt="profile photo"/>
            <p>{selectedContact.name}</p>
            <p>{selectedContact.Title}</p>
            <p>
              <lightning-formatted-phone value={selectedContact.Phone}></lightning-formatted-phone>
            </p>
            <p>
              <lightning-formatted-email value={selectedContact.Email}></lightning-formatted-email>
            </p>
          </template>
        </lightning-layout-item>
      </lightning-layout>
    </template>
    <template if:true={contacts.error}>
      <c-error-panel errors={contacts.error}></c-error-panel>
    </template>
  </lightning-card>
</template>